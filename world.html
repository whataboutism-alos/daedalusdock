<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;world - Daedalus Dock</title>
</head>
<body>
<header>
    <a href="index.html">Daedalus Dock</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="world.html#proc">Proc Details</a></header>
<main>
<h1>World <aside>/<a href="world.html">world</a></aside>
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/world.dm#L13">
        <img src="git.png" width="16" height="16" title="code&#x2F;world.dm 13"/></a></h1>

<p>Two possibilities exist: either we are alone in the Universe or we are not. Both are equally terrifying. ~ Arthur C. Clarke</p>
<p>The byond world object stores some basic byond level config, and has a few hub specific procs for managing hub visiblity</p>
<p>The world /New() is the root of where a round itself begins</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="world.html#proc/ImmediateInvokeAsync">ImmediateInvokeAsync</a></th><td>Immediately Invoke proctocall on thingtocall, with waitfor set to false</td></tr>
            <tr><th><a href="world.html#proc/New">New</a></th><td>World creation</td></tr>
            <tr><th><a href="world.html#proc/increase_max_x">increase_max_x</a></th><td>Handles incresing the world's maxx var and intializing the new turfs and assigning them to the global area.
If map_load_z_cutoff is passed in, it will only load turfs up to that z level, inclusive.
This is because maploading will handle the turfs it loads itself.</td></tr>
            <tr><th><a href="world.html#proc/jatum_deserialize">jatum_deserialize</a></th><td>Attempt to create a value from a JATUM JSON.</td></tr>
            <tr><th><a href="world.html#proc/jatum_serialize">jatum_serialize</a></th><td>Attempt to serialize a given value to the JATUM format.</td></tr>
            <tr><th><a href="world.html#proc/push_usr">push_usr</a></th><td>Makes a call in the context of a different usr. Use sparingly</td></tr>
            <tr><th><a href="world.html#proc/send_cross_comms">send_cross_comms</a></th><td>Sends a message to a given cross comms server by name (by name for security).</td></tr>
            <tr><th><a href="world.html#proc/shelleo">shelleo</a></th><td>XXX
AOO
XXX
AXX</td></tr>
            <tr><th><a href="world.html#proc/update_hub_visibility">update_hub_visibility</a></th><td>The usage of &quot;[&quot; without also using &quot;]&quot; makes the bracket pair colorizer break, so this is here to make the rest of the file easier to read.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/ImmediateInvokeAsync"><aside class="declaration">proc </aside>ImmediateInvokeAsync<aside>(thingtocall, proctocall, ...) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/datums/callback.dm#L86">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;callback.dm 86"/></a></aside>
        </h3>
        <p>Immediately Invoke proctocall on thingtocall, with waitfor set to false</p>
<p>Arguments:</p>
<ul>
<li>thingtocall Object to call on</li>
<li>proctocall Proc to call on that object</li>
<li>... optional list of arguments to pass as arguments to the proc being called</li>
</ul><h3 id="proc/New"><aside class="declaration">proc </aside>New<aside>() 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/game/world.dm#L36">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 36"/></a></aside>
        </h3>
        <p>World creation</p>
<p>Here is where a round itself is actually begun and setup.</p>
<ul>
<li>db connection setup</li>
<li>config loaded from files</li>
<li>loads admins</li>
<li>Sets up the dynamic menu system</li>
<li>and most importantly, calls initialize on the master subsystem, starting the game loop that causes the rest of the game to begin processing and setting up</li>
</ul>
<p>Nothing happens until something moves. ~Albert Einstein</p>
<p>For clarity, this proc gets triggered later in the initialization pipeline, it is not the first thing to happen, as it might seem.</p>
<p>Initialization Pipeline:
Global vars are new()'ed, (including config, glob, and the master controller will also new and preinit all subsystems when it gets new()ed)
Compiled in maps are loaded (mainly centcom). all areas/turfs/objs/mobs(ATOMs) in these maps will be new()ed
world/New() (You are here)
Once world/New() returns, client's can connect.
1 second sleep
Master Controller initialization.
Subsystem initialization.
Non-compiled-in maps are maploaded, all atoms are new()ed
All atoms in both compiled and uncompiled maps are initialized()</p><h3 id="proc/increase_max_x"><aside class="declaration">proc </aside>increase_max_x<aside>(new_maxx, map_load_z_cutoff) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/game/world.dm#L358">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 358"/></a></aside>
        </h3>
        <p>Handles incresing the world's maxx var and intializing the new turfs and assigning them to the global area.
If map_load_z_cutoff is passed in, it will only load turfs up to that z level, inclusive.
This is because maploading will handle the turfs it loads itself.</p><h3 id="proc/jatum_deserialize"><aside class="declaration">proc </aside>jatum_deserialize<aside>(json) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/__HELPERS/jatum.dm#L140">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;jatum.dm 140"/></a></aside>
        </h3>
        <p>Attempt to create a value from a JATUM JSON.</p>
<ul>
<li>json - The JSON to deserialize.</li>
</ul><h3 id="proc/jatum_serialize"><aside class="declaration">proc </aside>jatum_serialize<aside>(value) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/__HELPERS/jatum.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;jatum.dm 17"/></a></aside>
        </h3>
        <p>Attempt to serialize a given value to the JATUM format.</p>
<ul>
<li>value - The var to serialize.</li>
</ul><h3 id="proc/push_usr"><aside class="declaration">proc </aside>push_usr<aside>(/<a href="mob.html">mob</a>/user_mob, /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/invoked_callback, ...) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/__HELPERS/mobs.dm#L895">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;mobs.dm 895"/></a></aside>
        </h3>
        <p>Makes a call in the context of a different usr. Use sparingly</p><h3 id="proc/send_cross_comms"><aside class="declaration">proc </aside>send_cross_comms<aside>(server_name, /list/message, auth) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/modules/admin/verbs/adminhelp.dm#L909">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;admin&#x2F;verbs&#x2F;adminhelp.dm 909"/></a></aside>
        </h3>
        <p>Sends a message to a given cross comms server by name (by name for security).</p><h3 id="proc/shelleo"><aside class="declaration">proc </aside>shelleo<aside>(command) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/__HELPERS/shell.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;shell.dm 6"/></a></aside>
        </h3>
        <p>XXX
AOO
XXX
AXX</p><h3 id="proc/update_hub_visibility"><aside class="declaration">proc </aside>update_hub_visibility<aside>(new_visibility) 
        
    
            <a href="https://github.com/DaedalusDock/daedalusdock/blob/53dcb0e8a9076798918a688ae6f03279adf2d79c/code/game/world.dm#L344">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 344"/></a></aside>
        </h3>
        <p>The usage of &quot;[&quot; without also using &quot;]&quot; makes the bracket pair colorizer break, so this is here to make the rest of the file easier to read.</p></main>
<footer>
    daedalus.dme
    <a href="https://github.com/DaedalusDock/daedalusdock/tree/53dcb0e8a9076798918a688ae6f03279adf2d79c">53dcb0e</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
